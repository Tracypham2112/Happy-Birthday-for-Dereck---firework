<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Siêu Phẩm Tình Yêu — Happy Birthday My Love</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* ====== Basic ====== */
    html,body {
      margin:0; padding:0; height:100%; overflow:hidden;
      background: linear-gradient(180deg,#0b0010 0%, #000 100%);
      font-family: 'Segoe UI', Roboto, "Brush Script MT", cursive;
    }

    /* canvases stacked */
    canvas {
      position: absolute; left:0; top:0; width:100%; height:100%;
      display:block; pointer-events:none;
    }

    /* subtle animated background gradient (slow) */
    @keyframes bgShift {
      0% { background-position: 0% 20%; }
      50% { background-position: 100% 80%; }
      100% { background-position: 0% 20%; }
    }
    body {
      background: radial-gradient(circle at 20% 30%, #0b0018 0%, #000 30%, #050006 60%, #000 100%);
      background-size: 200% 200%;
      animation: bgShift 18s ease-in-out infinite;
    }

    /* glow behind text */
    .glow {
      position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
      width: calc(34vw); height: calc(18vw); max-width:880px; max-height:420px;
      border-radius:50%; filter: blur(48px); z-index:8; pointer-events:none;
      background: radial-gradient(circle at 50% 40%, rgba(255,77,166,0.16), rgba(255,26,117,0.06) 32%, transparent 62%);
      opacity:0.95;
    }

    /* MAIN NEON "I Love U" */
    .neon-text {
      position:absolute; left:50%; top:44%; transform:translate(-50%,-50%);
      z-index:20; font-size:86px; letter-spacing:2px; color:#ff4da6; text-align:center;
      white-space:nowrap; user-select:none;
      text-shadow:
        0 0 6px #ffd1ea,
        0 0 12px #ff7ab0,
        0 0 20px #ff4da6,
        0 0 40px #ff1a75;
      animation: neonPulse 1.6s infinite cubic-bezier(.4,.0,.6,1);
      will-change: transform, opacity;
    }
    @keyframes neonPulse {
      0%,100% { transform: translate(-50%,-50%) scale(1); opacity:1; }
      30% { transform: translate(-50%,-50%) scale(0.86); opacity:0.96; }
    }

    /* Happy Birthday text - pink gradient + neon blink */
    .birthday-text {
      position:absolute; left:50%; top:58%; transform:translate(-50%,-50%);
      z-index:20; font-size:30px; font-weight:700; letter-spacing:1px; text-align:center;
      background: linear-gradient(90deg,#ffd1e7 0%, #ff7ab0 50%, #ff4da6 100%);
      -webkit-background-clip: text; background-clip: text; color:transparent;
      text-shadow: 0 0 6px rgba(255,77,166,0.18);
      opacity:0; user-select:none;
      animation: showBirthday 1.1s ease 0.6s forwards, birthdayBlink 2.6s infinite ease-in-out 1.6s;
    }
    @keyframes showBirthday {
      from { opacity:0; transform:translate(-50%,-46%); }
      to   { opacity:1; transform:translate(-50%,-50%); }
    }
    /* gentle neon blink (very soft) */
    @keyframes birthdayBlink {
      0% { text-shadow: 0 0 6px rgba(255,77,166,0.12); transform: translate(-50%,-50%) scale(1); }
      50% { text-shadow: 0 0 14px rgba(255,120,170,0.28); transform: translate(-50%,-50%) scale(1.02); }
      100% { text-shadow: 0 0 6px rgba(255,77,166,0.12); transform: translate(-50%,-50%) scale(1); }
    }

    /* small responsive tweaks */
    @media (max-width:700px) {
      .neon-text { font-size:52px; top:42%; }
      .birthday-text { font-size:16px; top:64%; }
      .glow { width:86vw; height:44vw; }
    }

  </style>
</head>
<body>
  <!-- canvases -->
  <canvas id="pinkboard"></canvas>
  <canvas id="fireworks"></canvas>
  <canvas id="sparkles"></canvas>
  <canvas id="hearts"></canvas>

  <div class="glow"></div>
  <div class="neon-text">I Love U</div>
  <div class="birthday-text">Happy Birthday My Love</div>

  <script>
  /* ===== helper: fit canvases ===== */
  function fitCanvasToWindow(c){
    c.width = window.innerWidth;
    c.height = window.innerHeight;
  }
  function onResizeAll(){
    ['pinkboard','fireworks','sparkles','hearts'].forEach(id=>{
      const c = document.getElementById(id);
      fitCanvasToWindow(c);
    });
  }
  window.addEventListener('resize', onResizeAll);
  window.addEventListener('load', onResizeAll);

  /* ================= HEART PARTICLES (heart-shaped emitter) ================= */
  (function(canvasId){
    const canvas = document.getElementById(canvasId);
    fitCanvasToWindow(canvas);
    const ctx = canvas.getContext('2d');

    const settings = { particles: { length: 900, duration: 2.0, velocity: 125, effect: -0.35, size: 12 } };

    function Point(x=0,y=0){ this.x=x; this.y=y; }
    Point.prototype.clone = function(){ return new Point(this.x,this.y); };
    Point.prototype.length = function(len){ if (len===undefined) return Math.sqrt(this.x*this.x+this.y*this.y); this.normalize(); this.x*=len; this.y*=len; return this; };
    Point.prototype.normalize = function(){ const l=Math.sqrt(this.x*this.x+this.y*this.y)||1; this.x/=l; this.y/=l; return this; };

    function Particle(){ this.position=new Point(); this.velocity=new Point(); this.acceleration=new Point(); this.age=0; }
    Particle.prototype.initialize = function(x,y,dx,dy){
      this.position.x=x; this.position.y=y; this.velocity.x=dx; this.velocity.y=dy;
      this.acceleration.x = dx * settings.particles.effect; this.acceleration.y = dy * settings.particles.effect;
      this.age = 0;
    };
    Particle.prototype.update = function(dt){
      this.position.x += this.velocity.x * dt;
      this.position.y += this.velocity.y * dt;
      this.velocity.x += this.acceleration.x * dt;
      this.velocity.y += this.acceleration.y * dt;
      this.age += dt;
    };
    Particle.prototype.draw = function(context,image){
      function ease(t){ return (--t)*t*t+1; }
      const size = image.width * ease(this.age / settings.particles.duration);
      context.globalAlpha = Math.max(0, 1 - this.age / settings.particles.duration);
      context.drawImage(image, this.position.x - size/2, this.position.y - size/2, size, size);
    };

    function ParticlePool(len){
      this.len = len; this.particles = new Array(len);
      for(let i=0;i<len;i++) this.particles[i] = new Particle();
      this.firstActive=0; this.firstFree=0; this.duration = settings.particles.duration;
    }
    ParticlePool.prototype.add = function(x,y,dx,dy){
      this.particles[this.firstFree].initialize(x,y,dx,dy);
      this.firstFree = (this.firstFree + 1) % this.len;
      if (this.firstFree === this.firstActive) this.firstActive = (this.firstActive + 1) % this.len;
    };
    ParticlePool.prototype.update = function(dt){
      const p = this.particles;
      if (this.firstActive < this.firstFree) {
        for(let i=this.firstActive;i<this.firstFree;i++) p[i].update(dt);
      } else {
        for(let i=this.firstActive;i<this.len;i++) p[i].update(dt);
        for(let i=0;i<this.firstFree;i++) p[i].update(dt);
      }
      while(p[this.firstActive].age >= this.duration && this.firstActive !== this.firstFree) {
        this.firstActive = (this.firstActive + 1) % this.len;
      }
    };
    ParticlePool.prototype.draw = function(ctx,image){
      const p = this.particles;
      if (this.firstActive < this.firstFree) {
        for(let i=this.firstActive;i<this.firstFree;i++) p[i].draw(ctx,image);
      } else {
        for(let i=this.firstActive;i<this.len;i++) p[i].draw(ctx,image);
        for(let i=0;i<this.firstFree;i++) p[i].draw(ctx,image);
      }
    };

    function pointOnHeart(t){
      return new Point(
        160 * Math.pow(Math.sin(t),3),
        130 * Math.cos(t) - 50*Math.cos(2*t) - 20*Math.cos(3*t) - 10*Math.cos(4*t) + 25
      );
    }

    // particle image (heart blob with gradient)
    const particleImage = (function(){
      const c = document.createElement('canvas'); const s = settings.particles.size;
      c.width = s; c.height = s; const g = c.getContext('2d');
      function to(t){
        const p = pointOnHeart(t);
        p.x = s/3 + p.x * s/550;
        p.y = s/3 - p.y * s/550;
        return p;
      }
      g.beginPath();
      let t = -Math.PI, p = to(t); g.moveTo(p.x,p.y);
      while(t < Math.PI){
        t += 0.01; p = to(t); g.lineTo(p.x,p.y);
      }
      g.closePath();
      const grad = g.createLinearGradient(0,0,s,s);
      grad.addColorStop(0,'#ffdff0'); grad.addColorStop(0.5,'#ff8fb8'); grad.addColorStop(1,'#ff4da6');
      g.fillStyle = grad; g.fill();
      const img = new Image(); img.src = c.toDataURL(); return img;
    })();

    const pool = new ParticlePool(settings.particles.length);
    const particleRate = settings.particles.length / settings.particles.duration;
    let last = 0;
    function render(now){
      requestAnimationFrame(render);
      const newTime = now/1000; const dt = Math.min(0.04, newTime - (last || newTime));
      last = newTime;
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // emit moderate amount
      const amount = particleRate * dt;
      for(let i=0;i<amount;i++){
        const pos = pointOnHeart(Math.PI - 2*Math.PI*Math.random());
        const dir = pos.clone().length(settings.particles.velocity);
        pool.add(canvas.width/2 + pos.x, canvas.height/2 - pos.y, dir.x, -dir.y);
      }
      pool.update(dt);
      pool.draw(ctx, particleImage);
    }
    requestAnimationFrame(render);
    window.addEventListener('resize', ()=>{ fitCanvasToWindow(canvas); });
  })('pinkboard');

  /* ================= FIREWORKS (colorful bursts) ================= */
  (function(){
    const canvas = document.getElementById('fireworks'); fitCanvasToWindow(canvas);
    const ctx = canvas.getContext('2d'); let W = canvas.width, H = canvas.height;
    function random(min,max){ return Math.random()*(max-min)+min; }
    let parts = [];

    function spawn(x,y,color,count,baseSpeed){
      for(let i=0;i<count;i++){
        const angle = Math.random()*Math.PI*2;
        const speed = baseSpeed * random(0.6,1.4);
        parts.push({
          x:x, y:y,
          vx: Math.cos(angle)*speed,
          vy: Math.sin(angle)*speed,
          life: Math.floor(random(60,140)),
          age:0,
          color: color,
          radius: random(1.6,3.4),
          gravity: 0.04 + Math.random()*0.06,
          fade: 0.007 + Math.random()*0.02
        });
      }
    }

    // occasional big bursts
    setInterval(()=>{
      const x = random(120, W-120);
      const y = random(80, H/2);
      const hue = Math.floor(random(0,360));
      spawn(x,y, `hsl(${hue},95%,60%)`, 110, random(2.8,5.2));
    }, 1700 + Math.random()*1600);

    // continuous small bursts
    setInterval(()=>{
      if (Math.random() < 0.55) {
        const x = random(80, W-80);
        const y = random(60, H/2 + 40);
        spawn(x,y, `hsl(${random(0,360)},100%,60%)`, 28, random(1.8,3.2));
      }
    }, 160);

    function draw(){
      ctx.clearRect(0,0,W,H);
      ctx.globalCompositeOperation = 'lighter';
      for(let i=parts.length-1;i>=0;i--){
        const p = parts[i];
        p.age++;
        p.vy += p.gravity;
        p.x += p.vx; p.y += p.vy;
        p.radius *= 0.998;
        p.alpha = Math.max(0, 1 - p.age * p.fade);

        ctx.globalAlpha = p.alpha;
        ctx.beginPath(); ctx.fillStyle = p.color;
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI*2); ctx.fill();

        // tiny spark
        ctx.globalAlpha = p.alpha * 0.6;
        ctx.fillStyle = 'rgba(255,255,255,0.9)';
        ctx.fillRect(p.x - 0.6, p.y - 0.6, 1.2, 1.2);

        if (p.age > p.life || p.alpha <= 0.01 || p.y > H + 80) parts.splice(i,1);
      }
      ctx.globalCompositeOperation = 'source-over';
      requestAnimationFrame(draw);
    }
    function onResize(){ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; }
    window.addEventListener('resize', onResize); onResize(); draw();
  })();

  /* ================= SPARKLES (soft twinkles) ================= */
  (function(){
    const canvas = document.getElementById('sparkles'); fitCanvasToWindow(canvas);
    const ctx = canvas.getContext('2d'); let W = canvas.width, H = canvas.height;
    let stars = [];
    const COUNT = 66;
    for(let i=0;i<COUNT;i++){
      stars.push({ x: Math.random()*W, y: Math.random()*H, r: Math.random()*1.8+0.3, a: Math.random(), da: (Math.random()*0.012+0.002)*(Math.random()>0.5?1:-1) });
    }
    function animate(){
      ctx.clearRect(0,0,W,H);
      for(let s of stars){
        s.a += s.da; if (s.a<=0){ s.a=0; s.da*=-1; } if (s.a>=1){ s.a=1; s.da*=-1; }
        ctx.globalAlpha = s.a;
        ctx.beginPath(); ctx.fillStyle = '#fff'; ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(animate);
    }
    window.addEventListener('resize', ()=>{ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; });
    animate();
  })();

  /* ================= FALLING HEARTS (moderate amount) ================= */
  (function(){
    const canvas = document.getElementById('hearts'); fitCanvasToWindow(canvas);
    const ctx = canvas.getContext('2d'); let W = canvas.width, H = canvas.height;

    function drawHeartPath(ctx, x, y, size){
      ctx.beginPath();
      const top = size * 0.32;
      ctx.moveTo(x, y + top);
      ctx.bezierCurveTo(x, y, x - size/2, y, x - size/2, y + top);
      ctx.bezierCurveTo(x - size/2, y + (size+top)/2, x, y + (size+top)/1.15, x, y + size);
      ctx.bezierCurveTo(x, y + (size+top)/1.15, x + size/2, y + (size+top)/2, x + size/2, y + top);
      ctx.bezierCurveTo(x + size/2, y, x, y, x, y + top);
      ctx.closePath();
    }

    const hearts = [];
    function spawnHeart(){
      hearts.push({
        x: Math.random()*W,
        y: -10 - Math.random()*120,
        size: 8 + Math.random()*18,
        vx: (Math.random()-0.5)*0.6,
        vy: 0.5 + Math.random()*1.1,
        rot: (Math.random()-0.5)*0.02,
        alpha: 0.95,
        hue: 320 + Math.random()*40
      });
    }

    // start with a few hearts
    for(let i=0;i<10;i++) spawnHeart();

    function update(){
      fitCanvasToWindow(canvas);
      W = canvas.width; H = canvas.height;
      ctx.clearRect(0,0,W,H);

      // spawn sometimes (moderate)
      if (Math.random() < 0.11) spawnHeart();

      for(let i=hearts.length-1;i>=0;i--){
        const h = hearts[i];
        h.x += h.vx; h.y += h.vy; h.vy += 0.0025;
        h.rot += (Math.random()-0.5)*0.02;

        ctx.save(); ctx.translate(h.x, h.y); ctx.rotate(h.rot);
        const g = ctx.createLinearGradient(-h.size,h.size,h.size,-h.size);
        g.addColorStop(0, `rgba(255,150,200,${h.alpha})`);
        g.addColorStop(1, `rgba(255,80,150,${h.alpha})`);
        ctx.fillStyle = g;
        drawHeartPath(ctx, 0, 0, h.size);
        ctx.fill();
        ctx.restore();

        if (h.y > H + 80) hearts.splice(i,1);
      }
      requestAnimationFrame(update);
    }
    update();
    window.addEventListener('resize', ()=>{ fitCanvasToWindow(canvas); });
  })();

  /* ================= SYNC: neon text subtle beat (linked to visual pulse) ================= */
  (function(){
    const neon = document.querySelector('.neon-text');
    let t = 0;
    function pulse(){
      t += 0.06;
      // create gentle beat amplitude synced to fireworks frequency randomness
      const beat = 1 - 0.12 * (0.5 + 0.5*Math.sin(t*1.9));
      neon.style.transform = `translate(-50%,-50%) scale(${beat.toFixed(3)})`;
      requestAnimationFrame(pulse);
    }
    pulse();
  })();

  // ensure canvases sized now
  window.dispatchEvent(new Event('resize'));
  </script>
</body>
</html>
